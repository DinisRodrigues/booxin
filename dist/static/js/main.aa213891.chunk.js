(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{221:function(e,t){e.exports="data:image/png;base64,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"},227:function(e,t,a){e.exports=a(464)},232:function(e,t,a){},251:function(e,t,a){},253:function(e,t,a){},255:function(e,t,a){},275:function(e,t,a){},280:function(e,t,a){},282:function(e,t,a){},431:function(e,t,a){},434:function(e,t,a){},464:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(37),l=a.n(o),c=a(6),s=a(7),i=a(11),u=a(8),m=a(10),h=a(466),d=a(469),E=a(468),p=(a(232),a(30)),b=a(2),f=a(465),g=a(221),O=a.n(g),v=a(9),N=a(44),y=a.n(N);a(244),a(249);y.a.initializeApp({apiKey:"AIzaSyAfIradYqIMuJ05QGPMrRWCQnLayD0uR-M",authDomain:"boox-1337.firebaseapp.com",databaseURL:"https://boox-1337.firebaseio.com",projectId:"boox-1337",storageBucket:"boox-1337.appspot.com",messagingSenderId:"551729703248"}),y.a.firestore().settings({timestampsInSnapshots:!0});var S=new y.a.auth.FacebookAuthProvider,j=new y.a.auth.GoogleAuthProvider,C=new y.a.auth.TwitterAuthProvider,A=y.a,k=Object(v.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){return console.log(e),r.a.createElement(n.Fragment,null,r.a.createElement(b.o,{className:"ml-auto",navbar:!0},r.a.createElement(b.p,null,r.a.createElement(f.a,{to:"/acervo",style:{textDecoration:"none"}},r.a.createElement(b.q,null,"Acervo"))),r.a.createElement(b.p,null,e.profile.userName?r.a.createElement(b.w,{nav:!0,inNavbar:!0},r.a.createElement(b.h,{nav:!0,caret:!0},e.profile.userName),r.a.createElement(b.g,{right:!0},r.a.createElement(f.a,{to:"/biblioteca",style:{textDecoration:"none"}},r.a.createElement(b.f,null,"Biblioteca")),r.a.createElement(f.a,{to:"/painel",style:{textDecoration:"none"}},r.a.createElement(b.f,null,"Painel de controlo")))):r.a.createElement(b.q,null,r.a.createElement(b.w,{nav:!0,inNavbar:!0},r.a.createElement(b.h,{nav:!0,caret:!0},e.auth.displayName),r.a.createElement(b.g,{right:!0},r.a.createElement(f.a,{to:"/biblioteca",style:{textDecoration:"none"}},r.a.createElement(b.f,null,"Biblioteca")),r.a.createElement(f.a,{to:"/painel",style:{textDecoration:"none"}},r.a.createElement(b.f,null,"Painel de controlo")))))),r.a.createElement(b.p,null,r.a.createElement(f.a,{to:"/sobre",style:{textDecoration:"none"}},r.a.createElement(b.q,null,"Sobre"))),r.a.createElement(b.p,null,r.a.createElement(f.a,{to:"/",style:{textDecoration:"none"}},r.a.createElement(b.q,{onClick:e.signOut},"Logout")))))}),R=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(b.o,{className:"ml-auto",navbar:!0},r.a.createElement(b.p,null,r.a.createElement(f.a,{to:"/acervo",style:{textDecoration:"none"}},r.a.createElement(b.q,null,"Acervo"))),r.a.createElement(b.p,null,r.a.createElement(f.a,{to:"/sobre",style:{textDecoration:"none"}},r.a.createElement(b.q,null,"Sobre"))),r.a.createElement(b.p,null,r.a.createElement(f.a,{to:"/login",style:{textDecoration:"none"}},r.a.createElement(b.q,null,"Login")))))},w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(p.a)(Object(p.a)(a))),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.profile,o=t.uid?r.a.createElement(k,{profile:a,auth:t}):r.a.createElement(R,null);return r.a.createElement(n.Fragment,null,r.a.createElement(b.r,{color:"light",light:!0,expand:"md"},r.a.createElement(b.s,null,r.a.createElement(f.a,{to:"/"},r.a.createElement("img",{src:O.a,alt:"boox brand logo"}))),r.a.createElement(b.t,{onClick:this.toggle}),r.a.createElement(b.d,{isOpen:this.state.isOpen,navbar:!0},o)))}}]),t}(r.a.Component),x=Object(v.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(w),I=(a(251),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement(b.e,null,r.a.createElement(b.v,null,r.a.createElement(b.c,null,"Projeto realizado no \xe2mbito da UC Laborat\xf3rio Multim\xe9dia 5",r.a.createElement("br",null),"Universidade de Aveiro - 2018"),r.a.createElement(b.c,null,"Trabalho realizado por:",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/DinisRodrigues1",style:{textDecoration:"none"}},"Dinis")," Rodrigues",r.a.createElement("br",null),"Jo\xe3o ",r.a.createElement("a",{href:"http://pantaleao.solutions",style:{textDecoration:"none"}},"Pantale\xe3o")))))}),D=(a(253),a(255),a(93)),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){console.log(e.target.value),a.setState({searchValue:e.target.value})},a.handleClick=function(e){e.preventDefault(),D.get("http://openlibrary.org/search.json?q="+a.state.searchValue,{}).then(function(e){a.props.onSearch(e.data.docs),console.log(a.props.search)}).catch(function(e){console.log(e)}).then(function(){a.props.history.push("/resultados")})},a.state={searchValue:null},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.handleClick=a.handleClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(b.i,{inline:!0,className:"justify-content-center search",onSubmit:this.handleClick,color:"link"},r.a.createElement(b.j,null,r.a.createElement(b.k,{type:"text",placeholder:"Escolha um livro",bsSize:"lg",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(b.j,null,r.a.createElement(b.b,{type:"submit",className:"btn btn-lg btn-light leftMargin"},"\ud83d\udd0d"))))}}]),t}(n.Component),U=Object(v.b)(function(e){return{search:e.search}},function(e){return{onSearch:function(t){return e({type:"SEARCH",payload:t})}}})(_),T=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"background"},r.a.createElement(U,{className:"search",history:this.props.history})),r.a.createElement(b.e,{className:"marginTB"},r.a.createElement(b.v,null,r.a.createElement(b.c,{xs:"6",className:"justified"},"A forma correta para utilizar esta ferramenta implica registar-se primeiro e depois utilizar a fun\xe7\xe3o de pesquisa, mas, como sabemos que as pessoas gostam de experimentar os produtos antes de se comprometerem, sinta-se \xe0 vontade para pesquisar um livro. Depois de adicionar um livro \xe0 sua biblioteca, este ser\xe1 apresentado no nosso acervo e qualquer utilizador poder\xe1 ter acesso ao seu contacto (email) de forma a combinarem a troca de livros."),r.a.createElement(b.c,{xs:"6",className:"justified"},"Esta aplica\xe7\xe3o foi desenvolvida no contexto da disciplina de Laborat\xf3rio Multim\xe9dia 5 como avalia\xe7\xe3o final. Fica o nosso agradecimento ao professor Carlos, ao professor Telmo, ao Sid\xf3nio, ao Cristov\xe3o, \xe0 Leonor e \xe0 In\xeas.",r.a.createElement("br",null),"Deu-nos muito gozo fazer este projeto."))))}}]),t}(n.Component),P=(a(275),a(51)),F=a.n(P),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleAdd=function(e){a.props.addToLibrary(e.target.id),console.log(a.state),console.log("data added")},a.state={activePage:1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.props.auth,a=Object.values(this.props.search),o=5*this.state.activePage,l=o-5,c=a[0].slice(l,o);return r.a.createElement(n.Fragment,null,r.a.createElement("h3",{className:"align-left"},"Resultados:"),r.a.createElement("hr",null),this.props.search?c.map(function(a){return r.a.createElement(b.n,{className:"d-flex p-2 mt-1 flex-row flex-wrap justify-content-around align-items-center"},r.a.createElement("div",{className:"flex-column flex-grow-1"},r.a.createElement(b.n,{left:!0,middle:!0,href:""},a.isbn[0]?r.a.createElement(b.n,{object:!0,src:"http://covers.openlibrary.org/b/isbn/".concat(a.isbn[0],"-M.jpg"),alt:a.title,className:"cover"}):a.isbn[1])),r.a.createElement("div",{className:"flex-column flex-grow-2"},r.a.createElement(b.n,{body:!0,className:"info text-center"},r.a.createElement(b.n,{heading:!0},"Autor: ",a.author_name),r.a.createElement("p",null,"T\xedtulo: ",a.title),a.publisher[1]?r.a.createElement("p",null,"Editora: ",a.publisher[0]+", "+a.publisher[1]+", entre outras."):r.a.createElement("p",null,"Editora: ",a.publisher[0]))),r.a.createElement("div",{className:"flex-column flex-grow-1"},r.a.createElement(b.b,{color:"primary",onClick:e.handleAdd,className:"button"},"+ info"),r.a.createElement("br",null),t.isEmpty?r.a.createElement(f.a,{to:"/login"},r.a.createElement(b.b,{color:"primary",id:a.isbn[1],className:""},"Adicionar")):r.a.createElement(b.b,{color:"primary",id:a.isbn[0],onClick:e.handleAdd,className:""},"Adicionar")))}):r.a.createElement("h1",null,"`Erro de pesquisa`"),r.a.createElement(b.u,null,r.a.createElement(F.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:a[0].length,pageRangeDisplayed:5,onChange:this.handlePageChange.bind(this)})))}}]),t}(n.Component),G=Object(v.b)(function(e){return{search:e.search,auth:e.firebase.auth}},function(e){return{addToLibrary:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),o=a().firebase.profile.userName,l=a().firebase.auth.uid,c=a().firebase.auth.displayName;void 0!==o?r.collection("books").add({book_isbn:e,user:o,user_id:l,date:new Date}).then(function(){t({type:"ADD_TO_LIBRARY_SUCCESS",book:e})}).catch(function(e){t({type:"ADD_TO_LIBRARY_ERROR",err:e})}):r.collection("books").add({book_isbn:e,displayName:c,user_id:l,date:new Date}).then(function(){t({type:"ADD_TO_LIBRARY_SUCCESS",book:e})}).catch(function(e){t({type:"ADD_TO_LIBRARY_ERROR",err:e})})}}(t))}}})(L),V=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"margin"},"Trabalho realizado por:"),r.a.createElement("div",{className:"margin"},r.a.createElement("a",{href:"https://github.com/DinisRodrigues1",style:{textDecoration:"none"}},"Dinis")," Rodrigues",r.a.createElement("br",null),"Jo\xe3o ",r.a.createElement("a",{href:"http://pantaleao.solutions",style:{textDecoration:"none"}},"Pantale\xe3o")))}}]),t}(n.Component),B=a(24),q=a(467),X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",token:"",user:"",name:""},a.handleChange=function(e){a.setState(Object(B.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a.facebookLogin=function(e){e.preventDefault(),a.props.signUpFacebook(a.state),console.log("state is"+a.state)},a.googleLogin=function(e){e.preventDefault(),a.props.signUpGoogle(a.state)},a.twitterLogin=function(e){e.preventDefault(),a.props.signUpTwitter(a.state)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(q.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement(b.e,null,r.a.createElement(b.v,null,r.a.createElement(b.c,{xs:"6"},r.a.createElement(b.l,{className:"container my-5"},r.a.createElement("h1",{className:"text-left"},"Login:"),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("div",null,r.a.createElement(b.i,{onSubmit:this.handleSubmit},r.a.createElement(b.j,null,r.a.createElement(b.m,{className:"text-left",for:"exampleEmail"},"Email:"),r.a.createElement(b.k,{type:"email",name:"email",id:"email",onChange:this.handleChange,placeholder:"Email"})),r.a.createElement(b.j,null,r.a.createElement(b.m,{className:"text-left",for:"examplePassword"},"Password:"),r.a.createElement(b.k,{type:"password",name:"password",id:"password",onChange:this.handleChange,placeholder:"Password"})),r.a.createElement(b.j,null,r.a.createElement(b.b,{type:"submit",className:"mb-3",color:"primary"},"Entrar")),r.a.createElement("div",null,t?r.a.createElement(b.a,{color:"danger"},t):null))),r.a.createElement("p",null,r.a.createElement(f.a,{to:"/passwordreset"},"Esqueci a minha Password")),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",null,"Ainda n\xe3o tem conta?"),r.a.createElement("p",{className:"lead"},r.a.createElement(f.a,{to:"/registo"},r.a.createElement(b.b,{color:"secondary"},"Registe-se"))))),r.a.createElement(b.c,{xs:"6"},r.a.createElement(b.l,{className:"container my-5"},r.a.createElement("h1",{className:"text-left mb-5"},"Login atrav\xe9s do:"),r.a.createElement("p",null,r.a.createElement(b.b,{className:"mb-4",color:"primary btn-md btn-block",onClick:this.facebookLogin},"Facebook")),r.a.createElement("p",null,r.a.createElement(b.b,{className:"mb-4",color:"info btn-md btn-block",onClick:this.twitterLogin},"Twitter")),r.a.createElement("p",null,r.a.createElement(b.b,{color:"danger btn-md btn-block",onClick:this.googleLogin},"Google")))))))}}]),t}(n.Component),W=Object(v.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a},signUpFacebook:function(t){return e(function(e,t,a){(0,a.getFirebase)().auth().signInWithPopup(S).then(function(e){console.log("HERE?"),e.credential.accessToken,e.user.displayName}).then(function(){return e({type:"SIGNIN_FACE_SUCCESS"})}).catch(function(t){t.code,t.message,t.email,t.credential,e({type:"SIGNIN_FACE_ERROR",error:t})})})},signUpGoogle:function(t){return e(function(e,t,a){(0,a.getFirebase)().auth().signInWithPopup(j).then(function(e){e.credential.accessToken,e.user}).then(function(){return e({type:"SIGNIN_GOOGLE_SUCCESS"})}).catch(function(t){t.code,t.message,t.email,t.credential,e({type:"SIGNIN_GOOGLE_ERROR",error:t})})})},signUpTwitter:function(t){return e(function(e,t,a){(0,a.getFirebase)().auth().signInWithPopup(C).then(function(e){e.credential.accessToken,e.user}).then(function(){return e({type:"SIGNIN_TWITTER_SUCCESS"})}).catch(function(t){t.code,t.message,t.email,t.credential,e({type:"SIGNIN_TWITTER_ERROR",error:t})})})}}})(X),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",userName:"",password:""},a.handleChange=function(e){a.setState(Object(B.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(q.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement(b.c,{sm:"12",md:{size:6,offset:3}},r.a.createElement(b.l,{className:"container my-5"},r.a.createElement("h1",{className:"text-left"},"Registo:"),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("div",null,r.a.createElement(b.i,{onSubmit:this.handleSubmit},r.a.createElement(b.j,null,r.a.createElement(b.m,{className:"text-left",for:"exampleEmail"},"Email:"),r.a.createElement(b.k,{type:"email",name:"email",id:"email",onChange:this.handleChange,placeholder:"Email"})),r.a.createElement(b.j,null,r.a.createElement(b.m,{className:"text-left",for:"exampleUser"},"Username:"),r.a.createElement(b.k,{type:"text",name:"userName",id:"userName",onChange:this.handleChange,placeholder:"Username"})),r.a.createElement(b.j,null,r.a.createElement(b.m,{className:"text-left",for:"examplePassword"},"Password:"),r.a.createElement(b.k,{type:"password",name:"password",id:"password",onChange:this.handleChange,placeholder:"Password"})),r.a.createElement(b.j,null,r.a.createElement(b.b,{className:"mt-3",type:"submit",color:"primary"},"Registar"),r.a.createElement("div",null,t?r.a.createElement(b.a,{color:"danger"},t):null)))))))}}]),t}(n.Component),H=Object(v.b)(function(e){return{auth:e.firebase.auth}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,o=n.getFirestore,l=r(),c=o();l.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return c.collection("users").doc(t.user.uid).set({userName:e.userName})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(M),z=(a(280),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).changeEmailUser=function(){a.props.changeEmail()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"margin"},"Painel de controlo"),r.a.createElement("div",{className:"margin"},"Alterar o email",r.a.createElement("br",null),r.a.createElement(b.b,{onClick:this.changeEmail},"Alterar")),r.a.createElement("div",{className:"margin"},"Alterar a password",r.a.createElement("br",null),r.a.createElement(b.b,null,"Alterar"))):r.a.createElement(q.a,{to:"/login"})}}]),t}(n.Component)),J=Object(v.b)(function(e){return console.log(e),{auth:e.firebase.auth}},function(e){return{changeEmail:function(){return e(void 0)}}})(z),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:""},a.handleChange=function(e){a.setState(Object(B.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.changePw(a.state)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return console.log(t),t.uid?r.a.createElement(q.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement(b.c,{sm:"12",md:{size:6,offset:3}},r.a.createElement(b.l,{className:"container my-5"},r.a.createElement("h2",{className:"text-left"},"Insira o seu E-mail:"),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("div",null,r.a.createElement(b.i,{onSubmit:this.handleSubmit},r.a.createElement(b.j,null,r.a.createElement(b.m,{className:"text-left",for:"exampleEmail"},"E-mail:"),r.a.createElement(b.k,{type:"email",name:"email",id:"email",onChange:this.handleChange,placeholder:"Email"})),r.a.createElement(b.j,null,r.a.createElement(b.b,{className:"mt-3",type:"submit",color:"danger"},"Redefinir Password"),r.a.createElement("div",null,a?r.a.createElement(b.a,{color:"danger",className:"mt-4"},a):null)))))))}}]),t}(n.Component),Z=Object(v.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{changePw:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)().auth(),o=a.email;r.sendPasswordResetEmail(o).then(function(){e({type:"PW_CHANGE_SUCCESS"})}).catch(function(t){e({type:"PW_CHANGE_ERROR",error:t})})}));var a}}})(Y),K=(a(282),a(31)),Q=a(25),$=a(90),ee=a.n($),te=a(93),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleDelete=function(e){a.props.deleteFromLibrary(e.target.id)},a.state={activePage:1,books:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.props.auth,a=this.state.books,o=this.props.profile;return t.uid?r.a.createElement(n.Fragment,null,o.userName?r.a.createElement("h3",{className:"align-left"},"Livros de ",o.userName,": ",r.a.createElement("hr",null)):r.a.createElement("h3",{className:"align-left"},"Livros de ",t.displayName,": ",r.a.createElement("hr",null)),a?a.map(function(t){return r.a.createElement(b.n,{className:"d-flex p-2 mt-1 flex-row flex-wrap justify-content-around align-items-center"},r.a.createElement("div",{className:"flex-column box "},r.a.createElement(b.n,{object:!0,src:"http://covers.openlibrary.org/b/id/".concat(t.cover,"-M.jpg"),alt:t.name,className:"cover align-self-center",onLoad:e.onImgLoad})),r.a.createElement("div",{className:"flex-column"},r.a.createElement(b.n,{body:!0,className:"info text-center box-info"},r.a.createElement(b.n,{heading:!0},"Autor: ",t.author),r.a.createElement("p",null,"T\xedtulo: ",t.name),t.publishers[1]?r.a.createElement("p",null,"Editora: ",t.publishers[0]+", "+t.publishers[1]+", entre outras."):r.a.createElement("p",null,"Editora: ",t.publishers[0]))),r.a.createElement("div",{className:"flex-column flex-grow-1"},r.a.createElement(b.b,{color:"danger",id:t.isbn,onClick:e.handleDelete,className:"button"},"Apagar"),r.a.createElement("br",null)))}):"Erro de pesquisa",r.a.createElement(F.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:a.length,pageRangeDisplayed:5,onChange:this.handlePageChange.bind(this),onClick:function(){window.scrollTop()},className:"pagination"})):r.a.createElement(q.a,{to:"/"})}},{key:"componentDidMount",value:function(){this.props.getUserBooks()}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.books!==this.props.books){console.log("BOOKS",this.props.books);var a=this.props.auth,n=this.props.profile,r="";(this.props.books&&this.props.books.filter(function(e){return null!=a.displayName?(r=a.displayName,e.displayName==r):(r=n.userName,e.user==r)})).forEach(function(e){t.getInfo(e.book_isbn)})}}},{key:"getInfo",value:function(e){var t=this;te.get("http://openlibrary.org/api/books?bibkeys=ISBN:".concat(e,"&jscmd=details&format=json"),{}).then(function(a){var n=ee.a.cloneDeep(t.state.books),r={author:a.data["ISBN:"+e].details.authors[0].name,name:a.data["ISBN:"+e].details.title,cover:a.data["ISBN:"+e].details.covers,publishers:a.data["ISBN:"+e].details.publishers,isbn:a.data["ISBN:"+e].details.isbn_10[0]};console.log(r.isbn),n.push(r),t.setState({books:n})}).catch(function(e){console.log(e)}).then(function(){console.log("here")})}}]),t}(n.Component),ne=Object(Q.d)(Object(v.b)(function(e){return console.log(e),{auth:e.firebase.auth,books:e.firestore.ordered.books,profile:e.firebase.profile}},function(e){return{getUserBooks:function(){return e(function(e,t,a){var n,r,o,l=a.getFirebase,c=a.getFirestore,s=l(),i=(c(),s.auth().currentUser),u=t().firebase.profile.userName;null!=i.displayName?(n=i.displayName,r=i.email,o=i.uid,console.log(n,r,o),e({type:"USER_DATA_SUCCESS"})):(o=i.uid,r=i.email,console.log(r,o,u),e({type:"USER_DATA_SUCCESS"}))})},deleteFromLibrary:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,o=(0,n.getFirestore)(),l=r().firestore();console.log(e),l.collection("books").get().then(function(a){a.forEach(function(a){console.log(a.data().book_isbn+"=>"+e,o._.authUid+"=>"+a.data().user_id),a.data().book_isbn==e&&o._.authUid==a.data().user_id?(console.log(a.data().book_isbn+"=>"+e,o._.authUid+"=>"+a.data().user_id),console.log("hghgfgdfdfss"),l.collection("books").doc(a.id).delete().then(function(){console.log("Document deleted!"),t({type:"DELETE_SUCCESS"})}).catch(function(e){console.log("Error",e)})):console.log("nada")})})}}(t))}}}),Object(K.firestoreConnect)([Object(B.a)({collection:"users"},"collection","books")]))(ae),re=(a(431),a(93)),oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleTrade=function(e){console.log("trade"),a.props.getUserInfo(e.target.id)},a.state={activePage:1,books:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.state.books;return r.a.createElement(n.Fragment,null,r.a.createElement("h3",{className:"align-left"},"Livros dos utilizadores: ",r.a.createElement("hr",null)),t?t.map(function(t){return r.a.createElement(b.n,{className:"d-flex p-2 mt-1 flex-row flex-wrap justify-content-around align-items-center"},r.a.createElement("div",{className:"flex-column box "},r.a.createElement(b.n,{object:!0,src:"http://covers.openlibrary.org/b/id/".concat(t.cover,"-M.jpg"),alt:t.name,className:"cover align-self-center",onLoad:e.onImgLoad})),r.a.createElement("div",{className:"flex-column"},r.a.createElement(b.n,{body:!0,className:"info text-center box-info"},r.a.createElement(b.n,{heading:!0},"Autor: ",t.author),r.a.createElement("p",null,"T\xedtulo: ",t.name),t.publishers[1]?r.a.createElement("p",null,"Editora: ",t.publishers[0]+", "+t.publishers[1]+", entre outras."):r.a.createElement("p",null,"Editora: ",t.publishers[0]))),r.a.createElement("div",{className:"flex-column flex-grow-1"},r.a.createElement(f.a,{to:"/troca"},r.a.createElement(b.b,{color:"success",id:t.isbn,onClick:e.handleTrade,className:"button"},"Trocar")),r.a.createElement("br",null)))}):r.a.createElement("div",null,r.a.createElement("p",null,"Ainda n\xe3o adicionaste nenhum livro \xe0 tua biblioteca.")),r.a.createElement(F.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:t.length,pageRangeDisplayed:5,onChange:this.handlePageChange.bind(this),onClick:function(){window.scrollTop()},className:"pagination"}))}},{key:"componentDidMount",value:function(){this.props.getAllUserBooks()}},{key:"componentDidUpdate",value:function(e){var t=this;e.books!==this.props.books&&this.props.books.forEach(function(e){t.getInfo(e.book_isbn)})}},{key:"getInfo",value:function(e){var t=this;re.get("http://openlibrary.org/api/books?bibkeys=ISBN:".concat(e,"&jscmd=details&format=json"),{}).then(function(a){var n=ee.a.cloneDeep(t.state.books),r={author:a.data["ISBN:"+e].details.authors[0].name,name:a.data["ISBN:"+e].details.title,cover:a.data["ISBN:"+e].details.covers,publishers:a.data["ISBN:"+e].details.publishers,isbn:a.data["ISBN:"+e].details.isbn_10[0]};console.log(r.isbn,"here is book"),n.push(r),t.setState({books:n})}).catch(function(e){console.log(e)}).then(function(){console.log("here")})}}]),t}(n.Component),le=Object(Q.d)(Object(v.b)(function(e){return{auth:e.firebase.auth,books:e.firestore.ordered.books,profile:e.firebase.profile}},function(e){return{getAllUserBooks:function(){return e(function(e,t,a){var n=a.getFirebase,r=a.getFirestore;n(),r(),t().firebase.profile.userName,e({type:"ALL_USER_DATA_SUCCESS"})})},getUserInfo:function(){return e(function(e,a,n){var r=n.getFirebase,o=(0,n.getFirestore)(),l=r().firestore();console.log(t),l.collection("books").get().then(function(a){a.forEach(function(a){console.log(a.data().book_isbn+"=>"+t,o._.authUid+"=>"+a.data().user_id),a.data().book_isbn==t&&o._.authUid==a.data().user_id?o._.authUid.then(function(){e({type:"USER_FOUND"})}).catch(function(e){console.log("Error",e)}):console.log("nada")})})});var t}}}),Object(K.firestoreConnect)([Object(B.a)({collection:"users"},"collection","books")]))(oe),ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={books:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props;e.auth,e.books,e.profile;return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Troca"),r.a.createElement("p",null,"O email da pessoa que possui o livro BOOK"),r.a.createElement("p",null,"EMAIL"))}}]),t}(n.Component),se=Object(v.b)(function(e){return{auth:e.firebase.auth,books:e.firestore.ordered.books,profile:e.firebase.profile}})(ce),ie=(a(212),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(x,null),r.a.createElement(E.a,{exact:!0,path:"/",component:T}),r.a.createElement(E.a,{path:"/resultados",component:G}),r.a.createElement(E.a,{path:"/sobre",component:V}),r.a.createElement(E.a,{path:"/login",component:W}),r.a.createElement(E.a,{path:"/registo",component:H}),r.a.createElement(E.a,{path:"/painel",component:J}),r.a.createElement(E.a,{path:"/passwordreset",component:Z}),r.a.createElement(E.a,{path:"/biblioteca",component:ne}),r.a.createElement(E.a,{path:"/acervo",component:le}),r.a.createElement(E.a,{path:"/troca",component:se}),r.a.createElement(I,null))))}}]),t}(n.Component)),ue=Object(v.b)(function(e){return console.log(e),{auth:e.firebase.auth}})(ie);a(434),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(226),he=a(63),de=a(16),Ee={search:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Object(de.a)({},e,{search:t.payload});default:return Object(de.a)({},e)}},be={authError:null},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(de.a)({},e,{authError:"Login falhou"});case"LOGIN_SUCCESS":return Object(de.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return{state:e};case"SIGNUP_SUCCESS":return Object(de.a)({},e,{authError:null});case"SIGNUP_ERROR":return Object(de.a)({},e,{authError:t.err.message});case"SIGNIN_FACE_SUCCESS":return Object(de.a)({},e,{authError:null});case"SIGNIN_FACE_ERROR":return Object(de.a)({},e,{authError:t.error.message});case"SIGNIN_GOOGLE_SUCCESS":return Object(de.a)({},e,{authError:null});case"SIGNIN_GOOGLE_ERROR":return Object(de.a)({},e,{authError:t.error.message});case"SIGNIN_TWITTER_SUCCESS":return Object(de.a)({},e,{authError:null});case"SIGNIN_TWITTER_ERROR":return Object(de.a)({},e,{authError:t.error.message});case"PW_CHANGE_SUCCESS":return Object(de.a)({},e,{authError:null});case"PW_CHANGE_ERROR":return Object(de.a)({},e,{authError:t.error.message});default:return e}},ge={authError:null},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_LIBRARY_SUCCESS":return{state:e};case"ADD_TO_LIBRARY_ERROR":return console.log("error",t.err),{state:e};case"USER_DATA_SUCCESS":case"ALL_USER_DATA_SUCCESS":return{state:e};case"DELETE_SUCCESS":return console.log("HERE I AM AGAIN ON MY OWN"),{state:e};case"USER_FOUND":return{state:e};default:return e}},ve=Object(Q.c)({search:pe,auth:fe,library:Oe,firestore:he.firestoreReducer,firebase:K.firebaseReducer}),Ne=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();var ye=Object(Q.e)(ve,Object(Q.d)(Object(Q.a)(me.a.withExtraArgument({getFirestore:he.getFirestore,getFirebase:K.getFirebase,reduxDevTools:Ne})),Object(he.reduxFirestore)(A),Object(K.reactReduxFirebase)(A,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));ye.firebaseAuthIsReady.then(function(){l.a.render(r.a.createElement(v.a,{store:ye},r.a.createElement(ue,null)),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[227,2,1]]]);
//# sourceMappingURL=main.aa213891.chunk.js.map